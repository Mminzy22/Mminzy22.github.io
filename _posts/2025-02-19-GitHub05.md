---
title: "GitHub Actions ì‹¬í™” ë‚´ìš© ë° í™œìš© ì‚¬ë¡€"
author: mminzy22
date: 2025-02-19 22:00:00 +0900
categories: [GitHub]
tags: [Bootcamp, GitHub, GitHub Actions, CI/CD, TIL]
description: "GitHub Actionsì˜ ì‹¬í™” ê°œë…ê³¼ í™œìš© ì‚¬ë¡€ë¥¼ ì‚´í´ë³´ê³ , ì´ë¥¼ ì‹¤ì œ í”„ë¡œì íŠ¸ì—ì„œ íš¨ê³¼ì ìœ¼ë¡œ ì ìš©í•˜ëŠ” ë°©ë²•ì„ ì„¤ëª…"
pin: false
math: true
---


GitHub ActionsëŠ” ë‹¨ìˆœí•œ CI/CD ìë™í™” ë„êµ¬ë¥¼ ë„˜ì–´, ë³µì¡í•œ ê°œë°œ í”„ë¡œì„¸ìŠ¤ë¥¼ íš¨ìœ¨ì ìœ¼ë¡œ ê´€ë¦¬í•  ìˆ˜ ìˆëŠ” ë‹¤ì–‘í•œ ê¸°ëŠ¥ì„ ì œê³µí•©ë‹ˆë‹¤.


## 1. GitHub Actions ì‹¬í™” ê°œë…

### **Matrix Strategy (ë§¤íŠ¸ë¦­ìŠ¤ ì „ëµ)**
Matrix Strategyë¥¼ ì‚¬ìš©í•˜ë©´ í•˜ë‚˜ì˜ Workflowì—ì„œ **ì—¬ëŸ¬ í™˜ê²½ì—ì„œ í…ŒìŠ¤íŠ¸ë¥¼ ë³‘ë ¬ ì‹¤í–‰**í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

**í™œìš© ì˜ˆì‹œ:** ë‹¤ì–‘í•œ OS, Python ë²„ì „ì—ì„œ í…ŒìŠ¤íŠ¸ ì‹¤í–‰

```yaml
jobs:
  test:
    runs-on: ${{ matrix.os }}
    strategy:
      matrix:
        os: [ubuntu-latest, windows-latest, macos-latest]
        python-version: [3.8, 3.9, 3.10]
    steps:
      - name: Checkout Repository
        uses: actions/checkout@v4
      - name: Set up Python
        uses: actions/setup-python@v4
        with:
          python-version: ${{ matrix.python-version }}
      - name: Run tests
        run: pytest
```

**ì´ ì½”ë“œê°€ í•˜ëŠ” ì¼**
- Ubuntu, Windows, macOS í™˜ê²½ì—ì„œ í…ŒìŠ¤íŠ¸ ì‹¤í–‰
- Python 3.8, 3.9, 3.10 ë²„ì „ì—ì„œ ê°ê° ì‹¤í–‰ â†’ ì´ 9ê°œì˜ í…ŒìŠ¤íŠ¸ ì‹¤í–‰


### **Reusable Workflows (ì¬ì‚¬ìš© ê°€ëŠ¥í•œ ì›Œí¬í”Œë¡œìš°)**
Workflowê°€ ë³µì¡í•´ì§ˆìˆ˜ë¡ **ë°˜ë³µë˜ëŠ” ì½”ë“œê°€ ë§ì•„ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤**. GitHub ActionsëŠ” `workflow_call`ì„ í†µí•´ ì¬ì‚¬ìš© ê°€ëŠ¥í•œ Workflowë¥¼ ì§€ì›í•©ë‹ˆë‹¤.

**í™œìš© ì˜ˆì‹œ:** ì—¬ëŸ¬ ì €ì¥ì†Œì—ì„œ ê³µí†µ CI/CD ë¡œì§ ì¬ì‚¬ìš©

ğŸ“ `.github/workflows/common-ci.yml`

```yaml
name: Common CI Workflow
on:
  workflow_call:
    inputs:
      node-version:
        required: true
        type: string
jobs:
  test:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - uses: actions/setup-node@v4
        with:
          node-version: ${{ inputs.node-version }}
      - run: npm install && npm test
```

ğŸ“ `.github/workflows/main.yml` (ì¬ì‚¬ìš©)

```yaml
name: Main CI Workflow
on: [push, pull_request]
jobs:
  call-common-ci:
    uses: ./.github/workflows/common-ci.yml
    with:
      node-version: '16'
```

**ì´ ì½”ë“œê°€ í•˜ëŠ” ì¼**
- `common-ci.yml`ì„ ì¬ì‚¬ìš©í•˜ì—¬ `main.yml`ì—ì„œ CI ì‹¤í–‰
- `node-version: '16'`ì„ ì…ë ¥ìœ¼ë¡œ ì „ë‹¬í•˜ì—¬ ìœ ì—°í•˜ê²Œ ì„¤ì • ê°€ëŠ¥


### **Self-hosted Runner (ì…€í”„ í˜¸ìŠ¤íŒ… ëŸ¬ë„ˆ)**
GitHub ActionsëŠ” ê¸°ë³¸ì ìœ¼ë¡œ **GitHub-hosted Runner**ë¥¼ ì‚¬ìš©í•˜ì§€ë§Œ, ë” ê°•ë ¥í•œ ì„±ëŠ¥ì´ë‚˜ íŠ¹ì • í™˜ê²½ì´ í•„ìš”í•  ê²½ìš° **Self-hosted Runner**ë¥¼ í™œìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

**í™œìš© ì˜ˆì‹œ:** ë‚´ë¶€ ë„¤íŠ¸ì›Œí¬ì—ì„œ ì‹¤í–‰í•´ì•¼ í•˜ëŠ” ê²½ìš°

**1. Self-hosted Runner ì„¤ì •**

```bash
mkdir actions-runner && cd actions-runner
curl -o actions-runner-linux-x64.tar.gz -L https://github.com/actions/runner/releases/latest/download/actions-runner-linux-x64.tar.gz
tar xzf ./actions-runner-linux-x64.tar.gz
./config.sh --url https://github.com/your-repo --token YOUR_TOKEN
./run.sh
```

**2. Workflowì—ì„œ Self-hosted Runner ì‚¬ìš©**

```yaml
jobs:
  deploy:
    runs-on: self-hosted
    steps:
      - name: Deploy to internal server
        run: ./deploy-script.sh
```

**ì´ ì½”ë“œê°€ í•˜ëŠ” ì¼**
- Self-hosted Runnerì—ì„œ Workflow ì‹¤í–‰
- `./deploy-script.sh`ë¥¼ ì‹¤í–‰í•˜ì—¬ ë‚´ë¶€ ì„œë²„ì— ë°°í¬


## 2. GitHub Actions í™œìš© ì‚¬ë¡€

### **1. Secret Management (ë³´ì•ˆ ê´€ë¦¬)**
ë°°í¬ ê³¼ì •ì—ì„œ API í‚¤ë‚˜ SSH í‚¤ ê°™ì€ **ë¯¼ê°í•œ ì •ë³´**ë¥¼ GitHub Secretsì— ì•ˆì „í•˜ê²Œ ì €ì¥í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

**í™œìš© ì˜ˆì‹œ:** SSH í‚¤ë¥¼ GitHub Secretsë¡œ ì €ì¥ í›„ ë°°í¬

```yaml
env:
  SSH_PRIVATE_KEY: ${{ secrets.SSH_PRIVATE_KEY }}
steps:
  - name: Deploy
    run: |
      echo "$SSH_PRIVATE_KEY" > private_key && chmod 600 private_key
      scp -i private_key -r ./dist user@server:/var/www/project
      ssh -i private_key user@server "systemctl restart nginx"
```

**ë³´ì•ˆ ìœ ì§€ ë°©ë²•**
- **GitHub Secretsë¥¼ í™œìš©í•˜ì—¬ ë³´ì•ˆ ê´€ë¦¬**
- **`echo`ë¥¼ ì‚¬ìš©í•˜ì—¬ SSH í‚¤ë¥¼ ì•ˆì „í•˜ê²Œ ì²˜ë¦¬**


### **2. GitHub Actions vs Jenkins ë¹„êµ**

| ê¸°ëŠ¥ | GitHub Actions | Jenkins |
|------|--------------|---------|
| **ì„¤ì • ë°©ë²•** | YAML íŒŒì¼ | UI ë˜ëŠ” Groovy ìŠ¤í¬ë¦½íŠ¸ |
| **í˜¸ìŠ¤íŒ… ë°©ì‹** | GitHubì—ì„œ ì œê³µ | ìì²´ ì„œë²„ í•„ìš” |
| **í™•ì¥ì„±** | GitHub Marketplace í™œìš© | í”ŒëŸ¬ê·¸ì¸ í•„ìš” |
| **ë¹„ìš©** | GitHub-hosted Runner ê¸°ë³¸ ì œê³µ | ìì²´ ì„œë²„ ìœ ì§€ ë¹„ìš© ë°œìƒ |

**GitHub Actionsê°€ ì í•©í•œ ê²½ìš°**
- GitHub ì €ì¥ì†Œì™€ í†µí•©ëœ **ê°„ë‹¨í•œ CI/CD í™˜ê²½**ì´ í•„ìš”í•  ë•Œ
- ë‹¤ì–‘í•œ **ì˜¤í”ˆì†ŒìŠ¤ Actionsë¥¼ ì‰½ê²Œ í™œìš©**í•˜ê³  ì‹¶ì„ ë•Œ

**Jenkinsê°€ ì í•©í•œ ê²½ìš°**
- **ë³µì¡í•œ ë¹Œë“œ ë° ë°°í¬ íŒŒì´í”„ë¼ì¸**ì„ êµ¬ì„±í•´ì•¼ í•  ë•Œ
- GitHub ì´ì™¸ì˜ **ë‹¤ì–‘í•œ SCMê³¼ í†µí•©**í•´ì•¼ í•  ë•Œ


## 3. ë§ˆë¬´ë¦¬

**GitHub Actions ì‹¬í™” ë‚´ìš©ì„ ì •ë¦¬í•˜ë©´?**
1. **Matrix Strategy**: ì—¬ëŸ¬ í™˜ê²½ì—ì„œ í…ŒìŠ¤íŠ¸ ë³‘ë ¬ ì‹¤í–‰
2. **Reusable Workflows**: ë°˜ë³µë˜ëŠ” CI/CD ì½”ë“œë¥¼ ì¬ì‚¬ìš©
3. **Self-hosted Runner**: ì‚¬ìš©ì ì§€ì • í™˜ê²½ì—ì„œ ì‹¤í–‰ ê°€ëŠ¥
4. **Secret Management**: GitHub Secretsë¥¼ í™œìš©í•œ ë³´ì•ˆ ê´€ë¦¬
5. **GitHub Actions vs Jenkins ë¹„êµ**: ì ì ˆí•œ ë„êµ¬ ì„ íƒ ê°€ì´ë“œ ì œê³µ

