---
title: "AWS VPC: 네트워크 개념부터 서브넷, 라우팅"
author: mminzy22
date: 2025-07-22 21:00:00 +0900
categories: [AWS, Cloud, Subnet, Routing, NAT, IGW]
tags: [TIL, Cloud-ops]
description: "AWS VPC의 기본 개념, 일반 네트워크와의 차이, 서브넷 구성, 라우팅 테이블 설정까지 설명"
pin: false
mermaid: true
---


# AWS VPC (Virtual Private Cloud)란?

## 정의

* AWS 클라우드 내에 존재하는 **사용자 정의 가상 네트워크**.
* 마치 **자신만의 프라이빗 데이터센터**처럼, 독립적으로 네트워크 구성 가능.

## 주요 목적

* 네트워크를 직접 설계: IP 범위, 서브넷, 라우팅 테이블, 게이트웨이 구성 가능
* 외부 접근 제한 및 **내부 통신 제어 가능**

---

# VPC vs 일반 네트워크 비교

## 1. 정의와 소유

| 구분 | VPC                | 일반 네트워크          |
| -- | ------------------ | ---------------- |
| 정의 | AWS 클라우드 내 가상 네트워크 | 온프레미스 기반 물리 네트워크 |
| 소유 | 논리적 제어권은 사용자       | 장비와 관리 모두 직접 소유  |

## 2. 물리적 vs 가상 구성

| 항목 | VPC          | 일반 네트워크            |
| -- | ------------ | ------------------ |
| 구성 | 소프트웨어 기반     | 물리 장비 (스위치, 라우터 등) |
| 확장 | 클릭 또는 코드로 확장 | 장비 구입 및 설치 필요      |

## 3. 관리 방식

* **VPC**: 콘솔, CLI, Terraform 등 자동화된 방식
* **일반 네트워크**: 장비 설정 및 유지보수 필요, 수동 작업 많음

## 4. 비용 구조

| 항목    | VPC          | 일반 네트워크               |
| ----- | ------------ | --------------------- |
| 초기 투자 | 거의 없음 (OPEX) | 장비 등 설비 투자 필요 (CAPEX) |
| 유지비   | 사용량 기반 요금    | 전력, 공간, 유지보수 비용 지속 발생 |

## 5. 보안 및 격리

| 항목    | VPC                 | 일반 네트워크           |
| ----- | ------------------- | ----------------- |
| 격리 방식 | 기본적으로 완전히 격리됨       | VLAN, 방화벽 등 수동 설정 |
| 보안 도구 | SG, NACL, VPC 피어링 등 | 방화벽, ACL 등 직접 구현  |

---

# 서브넷(Subnet) 완전 이해

## 개념 정리

* **서브넷**: VPC 내의 IP 범위를 더 작게 쪼갠 단위
* **CIDR 블록**으로 구분하며, 각 서브넷은 **하나의 AZ(가용영역)**에 종속

## 예시 구조

```
VPC: 10.0.0.0/16

퍼블릭 서브넷 A: 10.0.1.0/24 (AZ-a)
  - 웹 서버, ALB

프라이빗 서브넷 A: 10.0.2.0/24 (AZ-a)
  - 앱 서버

프라이빗 서브넷 B: 10.0.3.0/24 (AZ-b)
  - 데이터베이스
```

## 퍼블릭 vs 프라이빗 서브넷

| 구분     | 퍼블릭 서브넷                 | 프라이빗 서브넷             |
| ------ | ----------------------- | -------------------- |
| 인터넷 접근 | IGW(인터넷 게이트웨이) 통해 직접 접근 | NAT 통해 제한된 외부 접근만 허용 |
| 주 용도   | 웹 서버, 공개 API            | DB, 내부 서비스           |
| 보안     | 외부 노출 고려 필수             | 외부와 완전 분리 가능         |

---

# 라우팅 테이블(Route Table) 구조

## 라우팅이란?

* 트래픽(패킷)이 어떤 경로로 이동할지 지정하는 설정
* AWS에서는 **서브넷 단위로 라우팅 테이블 연결**

## 기본 구성 예시

| 대상 (Destination) | 대상지로 향하는 경로 (Target) | 설명               |
| ---------------- | -------------------- | ---------------- |
| `10.0.0.0/16`    | local                | VPC 내부 통신 허용     |
| `0.0.0.0/0`      | igw-xxxxxx           | 퍼블릭 서브넷에서 외부로 나감 |
| `0.0.0.0/0`      | nat-xxxxxx           | 프라이빗 서브넷이 외부와 통신 |
| `192.168.0.0/16` | vgw-xxxxxx           | VPN 통해 온프레미스 연결  |
| `10.1.0.0/16`    | pcx-xxxxxx           | 다른 VPC와 피어링 연결   |

## 우선순위 개념

* **가장 구체적인 CIDR**이 우선 적용됨
* 예: `/32` > `/24` > `/0`

---

# 시나리오 요약

## 퍼블릭 서브넷

```bash
라우팅 테이블:
10.0.0.0/16 → local
0.0.0.0/0   → igw-abc123
```

## 프라이빗 서브넷

```bash
라우팅 테이블:
10.0.0.0/16 → local
0.0.0.0/0   → nat-xyz456
```

## 피어링 서브넷

```bash
라우팅 테이블:
10.1.0.0/16 → pcx-111aaa
```

## VPN 연결 서브넷

```bash
라우팅 테이블:
192.168.0.0/16 → vgw-789ddd
```

---

# 요약

| 항목     | 퍼블릭 서브넷      | 프라이빗 서브넷       |
| ------ | ------------ | -------------- |
| 외부 접근  | IGW 통해 직접 가능 | NAT 통해 제한적 접근  |
| 보안 수준  | 공개 노출 가능성 존재 | 내부 전용 보안 강화    |
| 활용 리소스 | 웹 서버, ALB 등  | RDS, 백엔드 API 등 |

| 항목     | VPC        | 일반 네트워크       |
| ------ | ---------- | ------------- |
| 소유     | AWS 계정     | 사용자 직접 구축     |
| 확장성    | 무제한, 코드 기반 | 하드웨어 제한적      |
| 격리     | 기본 격리됨     | 직접 분리해야 함     |
| 라우팅 제어 | 라우팅 테이블    | 장비 및 설정 수동 제어 |
